import * as PathUtils from '../../utils/path';
import * as ValidationUtils from '../../utils/validation';
import * as VscUtils from '../../utils/vsc';

import * as Paths from './relative-paths';

export async function validateMsys32Registration(msys32Path:string) {
    try {
        if (!await ValidationUtils.isValidFolder(
            PathUtils.prefixPaths(msys32Path, Paths.MandatoryFiles),
            PathUtils.prefixPaths(msys32Path, Paths.MandatoryFolders),
            Paths.MutuallyExclusiveFilesGroup.map((files, _, __) => PathUtils.prefixPaths(msys32Path, files)),
            Paths.MutuallyExclusiveFoldersGroup.map((files, _, __) => PathUtils.prefixPaths(msys32Path, files)),
        )) {
            throw Error('An "msys32" folder must be registered.');
        }
    } catch (error) {
        throw error;
    }
}

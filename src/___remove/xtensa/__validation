import * as PathUtils from '../../utils/path';
import * as ValidationUtils from '../../utils/validation';
import * as VscUtils from '../../utils/vsc';

import * as Paths from './relative-paths';

export async function validateXtensaRegistration(xtensaPath: string) {
    try {
        if (!await ValidationUtils.isValidFolder(
            PathUtils.prefixPaths(xtensaPath, Paths.MandatoryFiles),
            PathUtils.prefixPaths(xtensaPath, Paths.MandatoryFolders),
            Paths.MutuallyExclusiveFilesGroup.map((files, _, __) => PathUtils.prefixPaths(xtensaPath, files)),
            Paths.MutuallyExclusiveFoldersGroup.map((files, _, __) => PathUtils.prefixPaths(xtensaPath, files)),
        )) {
            throw Error('An "xtensa-esp32-elf" folder must be registered.');
        }
    } catch (error) {
        throw error;
    }
}
